<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="jakarta.faces.html"
      xmlns:f="jakarta.faces.core"
      xmlns:p="jakarta.faces.passthrough"
      xmlns:ui="jakarta.faces.facelets">
    <ui:composition template="/template.xhtml">
        <ui:define name="title">
            <h:outputText value="Actualizar perfil de usuario"></h:outputText>
        </ui:define>
        <ui:define name="breadcrum">
            Actualizar mi perfil
        </ui:define>
        <ui:define name="body">
            <div class="row">
                <div class="col-12">
                    <div class="card mb-2">
                        <div class="card-header">Informacion Personal</div>
                        <div class="card-body">
                            <div class="row">
                                <div class="col-2 d-flex">
                                    <div class="d-flex flex-column">
                                        <div class="p-2 "><h:graphicImage library="img" name="usr-menu.png" alt="mdo" width="100" height="100" class="rounded-circle"/></div>                                      
                                        <!-- Button trigger modal -->
                                        <button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#exampleModal">
                                            Cambiar Contraseña
                                        </button>

                                    </div>

                                </div>
                                <div class="col-5">
                                    <p class="card-text">
                                        <h:outputLabel value="#{bundle.ViewSysuserLabel_name}" for="name"/>
                                        <h:inputText class="form-control form-control-sm" id="name" value="#{sysuserController.selected.name}" title="#{bundle.EditSysuserTitle_name}" />
                                    </p>
                                    <p class="card-text">
                                        <h:outputLabel value="#{bundle.EditSysuserLabel_lastnameOne}" for="lastnameOne" />
                                        <h:inputText class="form-control form-control-sm" id="lastnameOne" value="#{sysuserController.selected.lastnameOne}" title="#{bundle.EditSysuserTitle_lastnameOne}" />
                                    </p>
                                    <p class="card-text">
                                        <h:outputText value="#{bundle.ViewSysuserLabel_lastnameTwo}" for="lastnameTwo"/>
                                        <h:inputText class="form-control form-control-sm" id="lastnameTwo" value="#{sysuserController.selected.lastnameTwo}" title="#{bundle.EditSysuserTitle_lastnameTwo}" />
                                    </p>
                                    <p class="card-text">
                                        <h:outputLabel value="#{bundle.ViewSysuserLabel_dni}" for="dni"/>
                                        <h:inputText class="form-control form-control-sm" id="dni" value="#{sysuserController.selected.dni}" title="#{bundle.EditSysuserTitle_dni}" />
                                    </p>
                                    <p>
                                        <h:outputLabel value="#{bundle.EditSysuserLabel_address}" for="address" />
                                        <h:inputTextarea class="form-control" id="address" value="#{sysuserController.selected.address}" title="#{bundle.EditSysuserTitle_address}" />
                                    </p>
                                </div>
                                <div class="col-5">
                                    <p class="card-text">
                                        <h:outputLabel value="#{bundle.EditSysuserLabel_emal}" for="emal" />
                                        <h:inputText class="form-control" id="emal" value="#{sysuserController.selected.emal}" title="#{bundle.EditSysuserTitle_emal}" />

                                    </p>
                                    <p class="card-text">
                                        <h:outputText value="#{bundle.ViewSysuserLabel_status}"/> 
                                        <h:selectOneMenu enabledClass="form-check-label" layout="list" >
                                              <f:selectItem  itemLabel=" asd" itemValue="true"/>
                                              <f:selectItem itemLabel=" asd" itemValue="true"/>
                                        </h:selectOneMenu>
                                    </p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

            </div>

            <!-- Modal -->
            <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
                <div class="modal-dialog">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h1 class="modal-title fs-5" id="exampleModalLabel">Seguridad</h1>
                            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                        </div>
                        <h:form id="formUpdatePass" prependId="false">
                            <div class="modal-body">
                                <p class="fw-bolder fs-5">Cambiar Contraseña</p>
                                <h:inputText id="emailform" class="border border-white form form-control" value="#{updatePasswordController.selected.email}" />
                                <p>Como vas a acceder a información confidencial, es necesario que confirmes tu contraseña.</p>
                                <h:inputSecret class="form-control mb-4" value="#{updatePasswordController.selected.password}" p:placeholder='Contraseña antigua'/>
                                <h:inputSecret class="form-control" value="#{updatePasswordController.newPass}" p:placeholder='Contraseña nueva'/>
                            </div>
                            <div class="modal-footer">
                                <button type="button" class="btn btn-light" data-mdb-dismiss="modal">
                                    Cancelar
                                </button>
                                <h:commandButton class="btn btn-primary" action="#{updatePasswordController.UpdatePasswordAdmin}" value="Actualizar">
                                    <f:ajax execute="formUpdatePass"/>
                                </h:commandButton>
                            </div>
                        </h:form>
                    </div>
                </div>
            </div>


        </ui:define>

    </ui:composition>

</html>
